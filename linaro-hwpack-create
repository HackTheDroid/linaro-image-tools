#!/usr/bin/python

from optparse import OptionParser
import sys

from hwpack.builder import ConfigFileMissing, HardwarePackBuilder


if __name__ == '__main__':
    parser = OptionParser()
    opts, args = parser.parse_args()
    if len(args) < 2:
        sys.stderr.write("Requires arguments CONFIG_FILE VERSION\n")
        sys.exit(1)
    try:
        builder = HardwarePackBuilder(args[0], args[1])
    except ConfigFileMissing, e:
        sys.stderr.write(str(e) + "\n")
        sys.exit(1)
    builder.build()
